# Input file generated by web application. 
# Webapp site: vsc-ash.wr.usgs.gov
# Webapp gen date time: 2012/03/05 09:56:29
# 
#The following is an input file to the model Ash3d, v.1.0 
#Created by L.G. Mastin, R.P. Denlinger, and H.F. Schwaiger U.S. Geological Survey, 2009. 
# 
#GENERAL SOURCE PARAMETERS. DO NOT DELETE ANY LINES 
#  The first line of this block identifies the projection used and the form of 
#  the input coordinates and is of the following format: 
#    latlonflag projflag (variable list of projection parameters) 
#  projflag should describe the projection used for both the windfile(s) and 
#  the input coordinates.  Currently, these need to be the same projection. 
#  For a particular projflag, additional values are read defining the projection. 
#    latlonflag = 0 if the input coordinates are already projected 
#               = 1 if the input coordinates are in lat/lon 
#    projflag   = 1 -- polar stereographic projection 
#           lambda0 -- longitude of projection point 
#           phi0    -- latitude of projection point 
#           k0      -- scale factor at projection point 
#           radius  -- earth radius for spherical earth 
#               = 2 -- Alberts Equal Area 
#           lambda0 --  
#           phi0    --  
#           phi1    --  
#           phi2    --  
#               = 3 -- UTM 
#           zone    -- zone number 
#           north   -- flag indication norther (1) or southern (0) hemisphere 
#               = 4 -- Lambert conformal conic 
#           lambda0 -- longitude of origin 
#              phi0 -- latitude of origin 
#              phi1 -- latitude of secant1 
#              phi2 -- latitude of secant2 
#            radius -- earth radius for a spherical earth 
******************* BLOCK 1 ***************************************************  
MSH                             #Volcano name (character*30) (52.894N 170.054W)  
1 1 -135.0 90.0 0.933 6371.229  #Proj flags and params  
     -135.0         33.5        #x, y of LL corner of grid (km, or deg. if latlongflag=1)  
       37.0         20.5        #grid width and height (km, or deg. if latlonflag=1)  
     -122.117       42.933      #vent location         (km, or deg. if latlonflag=1)  
        0.5          0.5        #DX, DY of grid cells  (km, or deg.)  
   2.000                        #DZ of grid cells      (always km)  
000.   4.0                      #diffusion coefficient (m2/s), Suzuki constant                      
1                               #neruptions, number of eruptions or pulses  
******************************************************************************* 
#ERUPTION LINES (number = neruptions) 
#In the following line, each line represents one eruptive pulse.   
#Parameters are (1) start time (yyyy mm dd h.hh (UT)); (2) duration (hrs);  
#               (3) plume height (km);                 (4) eruped volume (km3) 
#If the year is 0, then the model run in forecast mode where mm dd h.hh are 
#interpreted as the time after the start of the windfile.  In this case, duration, plume 
#height and erupted volume are replaced with ESP if the values are negative. 
******************* BLOCK 2 *************************************************** 
  1980     5    18     17.48     9.00     24.00  5.000E-2
******************************************************************************* 
#WIND OPTIONS 
#Ash3d will read from either a single 1-D wind sounding, or gridded, time- 
#dependent 3-D wind data, depending on the value of the parameter iwind. 
#For iwind = 1, read from a 1-D wind sounding 
#            2, read from 3D gridded ASCII files generated by the Java script 
#               ReadNAM216forAsh3d or analogous. 
#            3, read directly from a single NetCDF file. 
#            4, read directly from multiple NetCDF files. 
#The parameter iwindFormat specifies the format of the wind files, as follows: 
# iwindFormat =  1: ASCII files (this is redundant with iwind=2 
#                2: NAM_216pw 45km files (provided by Peter Webley) 
#                3: NARR_221 32km (see http://dss.ucar.edu/pub/narr) 
#                4:   unassigned 
#                5: NAM_216 files from idd.unidata.ucar.edu 
#                6: AWIPS_105 90km from idd.unidata.ucar.edu 
#                7: CONUS_212 40km from idd.unidata.ucar.edu 
#                8: NAM_218 12km 
#                9:   unassigned 
#               10: NAM_242 11km http://motherlode.ucar.edu/ 
#               20: NCEP GFS 0.5 degree files (http://www.nco.ncep.noaa.gov/pmb/products/gfs/) 
#               21: ECMWF 0.25deg for Hekla intermodel comparison 
#               22: NCEP GFS 2.5 degree files 
#               23: NCEP DOE Reanalysis 2.5 degree files (http://dss.ucar.edu/pub/reanalysis2) 
#Many plumes extend  higher than the maximum height of mesoscale models. 
#Ash3d handles this as determined by the parameter iHeightHandler, as follows: 
#for iHeightHandler = 1, stop the program if the plume height exceeds mesoscale height 
#                     2, wind velocity at levels above the highest node  
#                        equal that of the highest node.  Temperatures in the 
#                        upper nodes dont change between 11 and 20 km; above 
#                        20 km they increase by 2 C/km, as in the Standard 
#                        atmosphere.  A warning is written to the log file. 
#Checking divergence:  Some wind modeled wind fields are not very good at  
#                      conserving mass, meaning that the divergence of velocity 
#                      in each cell is not close to zero.  The model can check 
#                      the divergence of the wind field if desired. 
******************* BLOCK 3 *************************************************** 
  5 25              #iwind, iwindFormat  
2                   #iHeightHandler  
   48.0             #Simulation time in hours  
yes                 #stop computation when 99% of erupted mass has deposited?  
1                   #nWindFiles, number of gridded wind files (used if iwind>1)  
******************************************************************************* 
#OUTPUT OPTIONS: 
#The list below allows users to specify the output options 
#All but the final deposit file can be written out at specified 
#times using the following parameters: 
#nWriteTimes   = if >0,  number of times output are to be written. The following 
# line contains nWriteTimes numbers specifying the times of output 
#                if =-1, it specifies that the following line gives a constant time 
# interval in hours between write times. 
#WriteTimes    = Hours between output (if nWritetimes=-1), or 
#                Times (hours since start of first eruption) for each output  
#     (if nWriteTimes >1) 
******************* BLOCK 4 *************************************************** 
yes     #Write out ESRI ASCII file of final deposit thickness?                    
no      #Write out        KML file of final deposit thickness?                   
yes     #Write out ESRI ASCII deposit files at specified times?                  
no      #Write out        KML deposit files at specified times?                  
yes     #Write out ESRI ASCII files of ash-cloud concentration?                  
no      #Write out        KML files of ash-cloud concentration ?                 
yes     #Write out ESRI ASCII files of ash-cloud height?                        
no      #Write out        KML files of ash-cloud height?                        
yes     #Write out      ASCII files of ash-cloud load (T/km2) at specified times?  
no      #Write out        KML files of ash-cloud load (T/km2) at specified times?  
yes     #Write ASCII file of deposit arrival times?  
no      #Write KML file of deposit arrival times?  
yes     #write ASCII file of cloud arrival times?  
no      #Write KML file of cloud arrival times?  
yes     #Write out 3-D ash concentration at specified times?                       
netcdf  #format of ash concentration files   ("ascii", "binary", or "netcdf")  
-1       #nWriteTimes  
2.0
*******************************************************************************                     
#WIND INPUT FILES                                                                                   
#The following block of data contains names of wind files.                                          
#If we are reading from a 1-D wind sounding (i.e. iwind=1) then there should                        
#be only one wind file.                                                                             
# If we are reading gridded data there should be iWinNum wind files, each having                    
# the format volcano_name_yyyymmddhh_FHhh.win                                                       
******************* BLOCK 5 ***************************************************                     
Wind_nc
*******************************************************************************                     
#AIRPORT LOCATION FILE                                                                              
#The following lines allow the user to specify whether times of ash arrival                         
#at airports & other locations will be written out, and which file                                  
#to read for a list of airport locations.                                                           
#PLEASE NOTE:  Each line in the airport location file should contain the                            
#              airport latitude, longitude, projected x and y coordinates,                          
#              and airport name.  if you are using a projected grid,                                
#              THE X AND Y MUST BE IN THE SAME PROJECTION as the wind files.                        
#              Alternatively, if proj4 is compiled, you can have Proj4                              
#              find the projected coordinates by typing "yes" to the last parameter                 
******************* BLOCK 6 ***************************************************                     
no                            #Write out ash arrival times at airports to ASCII FILE?               
no                            #Write out grain-size distribution to ASCII airport file?             
no                            #Write out ash arrival times to kml file?                             
internal                      #Name of file containing aiport locations                             
no                            #Have Proj4 calculate projected coordinates?                          
*******************************************************************************                     
#GRAIN SIZE GROUPS                                                                                  
#The first line of this block contains an integer (nsize) that gives the                            
#     number of size bins or settling velocity groups.                                              
#This should be followed by nsize lines.  If those lines contain:                                   
#    2  numbers, Ash3d interprets them to be the mass fraction of particles in                      
#                that bin, and the settling velocity.  It then calculates fall                      
#                assuming a constant settling velocity regardless of elevation.                     
#    3 numbers, Ash3d interprets them to be:                                                        
#                --size (mm) in that bin                                                            
#                --mass fraction in that bin                                                        
#                --density of particles (kg/m3) in that bin.                                        
#               Ash3d calculates the settling velocity of each grain size as a                      
#               function of elevation using the formula of Wilson and Huang                         
#               (1979, EPSL, 44:311-324), assuming the particles have a shape                       
#               factor of f=0.44, which is the average of particles measured                        
#               by Wilson and Huang.  This calculation also includes a slip                         
#               factor for small particles.                                                         
#     4 numbers, Ash3d interprets the first three as before.  The fourth number                     
#               is assumed to be the slip factor.                                                   
******************* BLOCK 7 ***************************************************                     
1                           #Number of settling velocity groups',/, &
0.0100 1.00 2000.
*******************************************************************************                     
#Options for writing vertical profiles                                                              
#The first line below gives the number of locations (nlocs) where vertical                          
# profiles are to be written.  That is followed by nlocs lines, each of which                       
#contain the location, in the same coordinate system specified above for the                        
#volcano.                                                                                           
******************* BLOCK 8 ***************************************************                     
2                             #number of locations for vertical profiles (nlocs)
-114.20 43.1
-121.20 42.8
*******************************************************************************                     
#netCDF output options                                                                              
******************* BLOCK 9 ***************************************************                     
3d_tephra_fall.nc             # Name of output file                                                 
St. Helens forecast           # Title of simulation                                                 
no comment                    # Comment                                                             
